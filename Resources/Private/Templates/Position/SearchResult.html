{namespace pw=Webfox\Placements\ViewHelpers\Widget}
{namespace ps=Webfox\Placements\ViewHelpers}
<f:layout name="Default" />
<f:section name="main">
	<f:if condition="{settings.debug}">
		<f:debug title="Settings">{settings}</f:debug>
		<f:debug title="Demand">{demand}</f:debug>
		<f:debug title="Search">{search}</f:debug>
		<f:debug title="Positions">{positions}</f:debug>
	</f:if>
	<div class="tx-placements search-result">
		<f:flashMessages class="message" />
		<f:if condition="{search}">
			<f:if condition="{positions}">
				<div  class="position-list" >
					<f:render partial="Position/List/Head" />
					<pw:paginate  
						objects="{positions}" 
						as="paginatedPositions" 
						configuration="{itemsPerPage: '{settings.position.list.paginate.itemsPerPage}', 
							insertAbove: '{settings.position.list.paginate.insertAbove}',
							insertBelow: '{settings.position.list.paginate.insertBelow}',
							lessPages: '{settings.position.list.paginate.lessPages}',
							forcedNumberOfLinks: '{settings.position.list.paginate.lessPages}',
							pagesBefore: '{settings.position.list.paginate.pagesBefore}',
							pagesAfter: '{settings.position.list.paginate.pagesAfter}'
						}"
					>
					<f:for each="{paginatedPositions}" as="position">
						<f:render partial="Position/List/Item" arguments="{position: '{position}', settings: '{settings}'}" /> 
					</f:for>
					</pw:paginate>
				</div>
			</f:if>
		</f:if>
	</div>
</f:section>
